{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91600\\\\Documents\\\\zahidproject\\\\frontend\\\\src\\\\pages\\\\ProductItemsPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport ProductItem from \"../components/ProductItem\";\nimport authContext from \"../context/auth/authContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ProductItemsPage() {\n  _s();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useContext(authContext);\n  const {\n    category,\n    type\n  } = useParams();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchProducts = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const res = await fetch(`http://localhost:5000/api/product/fetchproduct?category=${category}&type=${type}`);\n        if (!res.ok) {\n          const errData = await res.json();\n          throw new Error(errData.message || \"Failed to fetch products\");\n        }\n        const data = await res.json();\n        if (data.success) {\n          setProducts(data.products);\n        } else {\n          setProducts([]);\n          setError(data.message || \"No products found\");\n        }\n      } catch (err) {\n        console.error(\"Fetch products error:\", err);\n        setError(err.message);\n        setProducts([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchProducts();\n  }, [category, type]);\n  const handleDelete = id => {\n    setProducts(prev => prev.filter(p => p._id !== id));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container py-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"mb-4 text-center\",\n      children: [type, \"s for \", category]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center mt-5\",\n      children: \"Loading products...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 19\n    }, this), !loading && error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center mt-5 text-danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this), !loading && !error && products.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center mt-5\",\n      children: \"No products found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this), (user === null || user === void 0 ? void 0 : user.admin) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-end mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary d-flex align-items-center gap-2\",\n        onClick: () => navigate(\"/addproduct\", {\n          state: {\n            category\n          }\n        }),\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bi bi-plus-lg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), \"Add Product\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row g-4\",\n      children: products.map(product => /*#__PURE__*/_jsxDEV(ProductItem, {\n        product: product,\n        onDelete: handleDelete\n      }, product._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(ProductItemsPage, \"QPCmKrR0ja21y7/UguNgA0/m9ek=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = ProductItemsPage;\nvar _c;\n$RefreshReg$(_c, \"ProductItemsPage\");","map":{"version":3,"names":["React","useEffect","useState","useContext","useParams","useNavigate","ProductItem","authContext","jsxDEV","_jsxDEV","ProductItemsPage","_s","navigate","user","category","type","products","setProducts","loading","setLoading","error","setError","fetchProducts","res","fetch","ok","errData","json","Error","message","data","success","err","console","handleDelete","id","prev","filter","p","_id","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","admin","onClick","state","map","product","onDelete","_c","$RefreshReg$"],"sources":["C:/Users/91600/Documents/zahidproject/frontend/src/pages/ProductItemsPage.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport ProductItem from \"../components/ProductItem\";\r\nimport authContext from \"../context/auth/authContext\";\r\n\r\nexport default function ProductItemsPage() {\r\n  const navigate = useNavigate();\r\n  const { user } = useContext(authContext);\r\n  const { category, type } = useParams();\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      setLoading(true);\r\n      setError(null);\r\n      try {\r\n        const res = await fetch(\r\n          `http://localhost:5000/api/product/fetchproduct?category=${category}&type=${type}`\r\n        );\r\n\r\n        if (!res.ok) {\r\n          const errData = await res.json();\r\n          throw new Error(errData.message || \"Failed to fetch products\");\r\n        }\r\n\r\n        const data = await res.json();\r\n        if (data.success) {\r\n          setProducts(data.products);\r\n        } else {\r\n          setProducts([]);\r\n          setError(data.message || \"No products found\");\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Fetch products error:\", err);\r\n        setError(err.message);\r\n        setProducts([]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchProducts();\r\n  }, [category, type]);\r\n\r\n  const handleDelete = (id) => {\r\n    setProducts((prev) => prev.filter((p) => p._id !== id));\r\n  };\r\n\r\n  return (\r\n    <div className=\"container py-5\">\r\n      <h2 className=\"mb-4 text-center\">\r\n        {type}s for {category}\r\n      </h2>\r\n\r\n      {loading && <p className=\"text-center mt-5\">Loading products...</p>}\r\n\r\n      {!loading && error && (\r\n        <p className=\"text-center mt-5 text-danger\">{error}</p>\r\n      )}\r\n\r\n      {!loading && !error && products.length === 0 && (\r\n        <p className=\"text-center mt-5\">No products found.</p>\r\n      )}\r\n\r\n      {user?.admin && (\r\n        <div className=\"d-flex justify-content-end mb-4\">\r\n          <button\r\n            className=\"btn btn-primary d-flex align-items-center gap-2\"\r\n            onClick={() =>\r\n              navigate(\"/addproduct\", { state: { category } })\r\n            }\r\n          >\r\n            <i className=\"bi bi-plus-lg\"></i>\r\n            Add Product\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"row g-4\">\r\n        {products.map((product) => (\r\n          <ProductItem\r\n            key={product._id}\r\n            product={product}\r\n            onDelete={handleDelete}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}