{"ast":null,"code":"import React,{useState}from\"react\";import\"./ProductItem.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProductItem(_ref){var _selectedVariant$imag,_variants$,_variants$$images,_selectedVariant$size,_selectedVariant$size2,_selectedVariant$size3;let{product}=_ref;const variants=(product===null||product===void 0?void 0:product.variants)||[];const[selectedVariant,setSelectedVariant]=useState(null);const[selectedSize,setSelectedSize]=useState(\"\");if(!product)return null;const{name,price,tag,rating=5}=product;const handleColorClick=variant=>{setSelectedSize(\"\");setSelectedVariant(variant);};const handleSizeClick=size=>{setSelectedSize(size);};return/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6 col-md-4 col-lg-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card product-card h-100 border-0 shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"img\",{src:(selectedVariant===null||selectedVariant===void 0?void 0:(_selectedVariant$imag=selectedVariant.images)===null||_selectedVariant$imag===void 0?void 0:_selectedVariant$imag.length)>0?selectedVariant.images[0]:(variants===null||variants===void 0?void 0:(_variants$=variants[0])===null||_variants$===void 0?void 0:(_variants$$images=_variants$.images)===null||_variants$$images===void 0?void 0:_variants$$images[0])||\"\",className:\"card-img-top product-img\",alt:name}),tag&&/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat(tag.toLowerCase()===\"sale\"?\"bg-danger\":\"bg-dark\",\" position-absolute top-0 start-0 m-2\"),children:tag})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-center\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-warning mb-2\",children:[...Array(rating)].map((_,i)=>/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-star\"},i))}),/*#__PURE__*/_jsxs(\"p\",{className:\"fw-bold\",children:[\"$\",price]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center mb-2\",children:variants.map((v,i)=>/*#__PURE__*/_jsx(\"span\",{className:\"color-circle mx-1 \".concat((selectedVariant===null||selectedVariant===void 0?void 0:selectedVariant.color)===v.color?\"selected\":\"\"),style:{backgroundColor:v.color},title:v.color,onClick:()=>handleColorClick(v)},i))}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center gap-2 flex-wrap mb-2\",children:selectedVariant===null||selectedVariant===void 0?void 0:selectedVariant.sizes.map((s,i)=>/*#__PURE__*/_jsx(\"span\",{className:\"size-box \".concat(selectedSize===s.size?\"selected\":\"\",\" \").concat(s.quantity===0?\"out-of-stock\":\"\"),onClick:()=>s.quantity>0&&handleSizeClick(s.size),title:\"Qty: \".concat(s.quantity),children:s.size},i))}),selectedSize&&selectedVariant&&/*#__PURE__*/_jsxs(\"span\",{className:\"badge mt-2 \".concat(((_selectedVariant$size=selectedVariant.sizes.find(s=>s.size===selectedSize))===null||_selectedVariant$size===void 0?void 0:_selectedVariant$size.quantity)>6?\"border text-success bg-transparent\"// green outline, transparent background\n:\"bg-danger text-white\"),children:[\"Available: \",(_selectedVariant$size2=(_selectedVariant$size3=selectedVariant.sizes.find(s=>s.size===selectedSize))===null||_selectedVariant$size3===void 0?void 0:_selectedVariant$size3.quantity)!==null&&_selectedVariant$size2!==void 0?_selectedVariant$size2:0]})]})]})});}","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","ProductItem","_ref","_selectedVariant$imag","_variants$","_variants$$images","_selectedVariant$size","_selectedVariant$size2","_selectedVariant$size3","product","variants","selectedVariant","setSelectedVariant","selectedSize","setSelectedSize","name","price","tag","rating","handleColorClick","variant","handleSizeClick","size","className","children","src","images","length","alt","concat","toLowerCase","Array","map","_","i","v","color","style","backgroundColor","title","onClick","sizes","s","quantity","find"],"sources":["C:/Users/91600/Documents/zahidproject/frontend/src/components/ProductItem.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./ProductItem.css\";\r\n\r\nexport default function ProductItem({ product }) {\r\n  \r\n  const variants = product?.variants || [];\r\n\r\n  const [selectedVariant, setSelectedVariant] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(\"\");\r\n\r\n  if (!product) return null;\r\n\r\n  const { name, price, tag, rating = 5 } = product;\r\n\r\n  const handleColorClick = (variant) => {\r\n    setSelectedSize(\"\");\r\n    setSelectedVariant(variant);\r\n\r\n  };\r\n\r\n  const handleSizeClick = (size) => {\r\n    setSelectedSize(size);\r\n  };\r\n\r\n  return (\r\n    <div className=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div className=\"card product-card h-100 border-0 shadow-sm\">\r\n        <div className=\"position-relative\">\r\n         <img\r\n  src={\r\n    selectedVariant?.images?.length > 0\r\n      ? selectedVariant.images[0]\r\n      : variants?.[0]?.images?.[0] || \"\" \r\n  }\r\n  className=\"card-img-top product-img\"\r\n  alt={name}\r\n/>\r\n\r\n          {tag && (\r\n            <span\r\n              className={`badge ${\r\n                tag.toLowerCase() === \"sale\" ? \"bg-danger\" : \"bg-dark\"\r\n              } position-absolute top-0 start-0 m-2`}\r\n            >\r\n              {tag}\r\n            </span>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"card-body text-center\">\r\n          <h5 className=\"card-title\">{name}</h5>\r\n\r\n          <div className=\"text-warning mb-2\">\r\n            {[...Array(rating)].map((_, i) => (\r\n              <span key={i} className=\"fas fa-star\"></span>\r\n            ))}\r\n          </div>\r\n\r\n          <p className=\"fw-bold\">${price}</p>\r\n\r\n          <div className=\"d-flex justify-content-center mb-2\">\r\n            {variants.map((v, i) => (\r\n              <span\r\n                key={i}\r\n                className={`color-circle mx-1 ${\r\n                  selectedVariant?.color === v.color ? \"selected\" : \"\"\r\n                }`}\r\n                style={{ backgroundColor: v.color }}\r\n                title={v.color}\r\n                onClick={() => handleColorClick(v)}\r\n              />\r\n            ))}\r\n          </div>\r\n\r\n          <div className=\"d-flex justify-content-center gap-2 flex-wrap mb-2\">\r\n            {selectedVariant?.sizes.map((s, i) => (\r\n              <span\r\n                key={i}\r\n                className={`size-box ${\r\n                  selectedSize === s.size ? \"selected\" : \"\"\r\n                } ${s.quantity === 0 ? \"out-of-stock\" : \"\"}`}\r\n                onClick={() => s.quantity > 0 && handleSizeClick(s.size)}\r\n                title={`Qty: ${s.quantity}`}\r\n              >\r\n                {s.size}\r\n              </span>\r\n            ))}\r\n          </div>\r\n\r\n        \r\n              \r\n     {selectedSize && selectedVariant && (\r\n  <span\r\n    className={`badge mt-2 ${\r\n      selectedVariant.sizes.find((s) => s.size === selectedSize)?.quantity > 6\r\n      ? \"border text-success bg-transparent\" // green outline, transparent background\r\n        : \"bg-danger text-white\"\r\n    }`}\r\n  >\r\n    Available: {selectedVariant.sizes.find((s) => s.size === selectedSize)?.quantity ?? 0}\r\n  </span>\r\n)}\r\n\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}