{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91600\\\\Documents\\\\zahidproject\\\\frontend\\\\src\\\\components\\\\ProductItem.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useCart } from \"../contexts/CartContext\";\nimport \"./ProductItem.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ProductItem({\n  product\n}) {\n  _s();\n  var _cartItems$find;\n  const {\n    cartItems,\n    addToCart\n  } = useCart();\n  const [selectedVariant, setSelectedVariant] = useState(product.variants[0]);\n  const [selectedSize, setSelectedSize] = useState(\"\");\n  if (!product) return null;\n  const handleColorClick = variant => {\n    setSelectedVariant(variant);\n    setSelectedSize(\"\");\n  };\n  const handleSizeClick = size => {\n    setSelectedSize(size);\n  };\n  const handleAddToCart = () => {\n    if (!selectedVariant || !selectedSize) return;\n    const cartItem = {\n      productId: product._id,\n      color: selectedVariant.color,\n      size: selectedSize,\n      image: selectedVariant.images,\n      price: product.price\n    };\n    addToCart(cartItem, 1);\n  };\n  const variantSizeObj = selectedVariant === null || selectedVariant === void 0 ? void 0 : selectedVariant.sizes.find(s => s.size === selectedSize);\n  const inCartQty = ((_cartItems$find = cartItems.find(c => c.productId === product._id && c.color === selectedVariant.color && c.size === selectedSize)) === null || _cartItems$find === void 0 ? void 0 : _cartItems$find.quantity) || 0;\n  const availableQty = ((variantSizeObj === null || variantSizeObj === void 0 ? void 0 : variantSizeObj.quantity) || 0) - inCartQty;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col-sm-6 col-md-4 col-lg-3\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card product-card h-100 border-0 shadow-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"position-relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: (selectedVariant === null || selectedVariant === void 0 ? void 0 : selectedVariant.images) || \"\",\n          className: \"card-img-top product-img\",\n          alt: product.name,\n          style: {\n            opacity: product.isActive ? 1 : 0.5\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), selectedSize && availableQty <= 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"badge bg-danger position-absolute top-50 start-50 translate-middle\",\n          children: \"Not Available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"card-title\",\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"fw-bold\",\n          children: [\"\\u20B9\", product.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-center mb-2\",\n          children: product.variants.map((v, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `color-circle mx-1 ${selectedVariant.color === v.color ? \"selected\" : \"\"}`,\n            style: {\n              backgroundColor: v.color\n            },\n            onClick: () => handleColorClick(v)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-center gap-2 flex-wrap mb-2\",\n          children: selectedVariant === null || selectedVariant === void 0 ? void 0 : selectedVariant.sizes.map((s, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `size-box ${selectedSize === s.size ? \"selected\" : \"\"} ${s.quantity === 0 ? \"out-of-stock\" : \"\"}`,\n            onClick: () => handleSizeClick(s.size),\n            style: {\n              cursor: \"pointer\"\n            },\n            children: s.size\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), selectedVariant && selectedSize && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"badge bg-secondary mt-2\",\n          children: [\"Available: \", availableQty > 0 ? availableQty : 0]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-dark w-100 mt-2\",\n          disabled: !selectedVariant || !selectedSize || availableQty <= 0,\n          onClick: handleAddToCart,\n          children: \"Add to Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(ProductItem, \"xHn8qfWA9qmKPyPZCnhEtAlNc3E=\", false, function () {\n  return [useCart];\n});\n_c = ProductItem;\nvar _c;\n$RefreshReg$(_c, \"ProductItem\");","map":{"version":3,"names":["React","useState","useCart","jsxDEV","_jsxDEV","ProductItem","product","_s","_cartItems$find","cartItems","addToCart","selectedVariant","setSelectedVariant","variants","selectedSize","setSelectedSize","handleColorClick","variant","handleSizeClick","size","handleAddToCart","cartItem","productId","_id","color","image","images","price","variantSizeObj","sizes","find","s","inCartQty","c","quantity","availableQty","className","children","src","alt","name","style","opacity","isActive","fileName","_jsxFileName","lineNumber","columnNumber","map","v","i","backgroundColor","onClick","cursor","disabled","_c","$RefreshReg$"],"sources":["C:/Users/91600/Documents/zahidproject/frontend/src/components/ProductItem.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useCart } from \"../contexts/CartContext\";\r\nimport \"./ProductItem.css\";\r\n\r\nexport default function ProductItem({ product }) {\r\n  const { cartItems, addToCart } = useCart();\r\n  const [selectedVariant, setSelectedVariant] = useState(product.variants[0]);\r\n  const [selectedSize, setSelectedSize] = useState(\"\");\r\n\r\n  if (!product) return null;\r\n\r\n  const handleColorClick = (variant) => {\r\n    setSelectedVariant(variant);\r\n    setSelectedSize(\"\");\r\n  };\r\n\r\n  const handleSizeClick = (size) => {\r\n    setSelectedSize(size);\r\n  };\r\n\r\n  const handleAddToCart = () => {\r\n    if (!selectedVariant || !selectedSize) return;\r\n\r\n    const cartItem = {\r\n      productId: product._id,\r\n      color: selectedVariant.color,\r\n      size: selectedSize,\r\n      image: selectedVariant.images,\r\n      price: product.price,\r\n    };\r\n\r\n    addToCart(cartItem, 1); \r\n  };\r\n\r\n  \r\n  const variantSizeObj = selectedVariant?.sizes.find(s => s.size === selectedSize);\r\n  const inCartQty = cartItems.find(\r\n    c => c.productId === product._id &&\r\n         c.color === selectedVariant.color &&\r\n         c.size === selectedSize\r\n  )?.quantity || 0;\r\n\r\n  const availableQty = (variantSizeObj?.quantity || 0) - inCartQty;\r\n\r\n  return (\r\n    <div className=\"col-sm-6 col-md-4 col-lg-3\">\r\n      <div className=\"card product-card h-100 border-0 shadow-sm\">\r\n        <div className=\"position-relative\">\r\n          <img\r\n            src={selectedVariant?.images || \"\"}\r\n            className=\"card-img-top product-img\"\r\n            alt={product.name}\r\n            style={{ opacity: product.isActive ? 1 : 0.5 }}\r\n          />\r\n          {selectedSize && availableQty <= 0 && (\r\n            <span className=\"badge bg-danger position-absolute top-50 start-50 translate-middle\">\r\n              Not Available\r\n            </span>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"card-body text-center\">\r\n          <h5 className=\"card-title\">{product.name}</h5>\r\n          <p className=\"fw-bold\">â‚¹{product.price}</p>\r\n\r\n         \r\n          <div className=\"d-flex justify-content-center mb-2\">\r\n            {product.variants.map((v, i) => (\r\n              <span\r\n                key={i}\r\n                className={`color-circle mx-1 ${\r\n                  selectedVariant.color === v.color ? \"selected\" : \"\"\r\n                }`}\r\n                style={{ backgroundColor: v.color }}\r\n                onClick={() => handleColorClick(v)}\r\n              />\r\n            ))}\r\n          </div>\r\n\r\n          <div className=\"d-flex justify-content-center gap-2 flex-wrap mb-2\">\r\n            {selectedVariant?.sizes.map((s, i) => (\r\n              <span\r\n                key={i}\r\n                className={`size-box ${selectedSize === s.size ? \"selected\" : \"\"} ${s.quantity === 0 ? \"out-of-stock\" : \"\"}`}\r\n                onClick={() => handleSizeClick(s.size)}\r\n                style={{ cursor: \"pointer\" }}\r\n              >\r\n                {s.size}\r\n              </span>\r\n            ))}\r\n          </div>\r\n\r\n          {selectedVariant && selectedSize && (\r\n            <span className=\"badge bg-secondary mt-2\">\r\n              Available: {availableQty > 0 ? availableQty : 0}\r\n            </span>\r\n          )}\r\n\r\n          <button\r\n            className=\"btn btn-dark w-100 mt-2\"\r\n            disabled={!selectedVariant || !selectedSize || availableQty <= 0}\r\n            onClick={handleAddToCart}\r\n          >\r\n            Add to Cart\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}